from operator import itemgetter


def sqr(x):
    return x*x


def color_dist(a, b):
    return sqr(a[0] - b[0]) + sqr(a[1] - b[1]) + sqr(a[2] - b[2])


__stateLUT = {0: "Dim", 1: "Bright"}

#  (name, state, (G, R, B))
__colorLUT = [(("Red", 0), (1.0, 25.4, 0.0)),
              (("Red", 1), (1.0, 100.0, 0.0)),
              (("Orange", 0), (4.8, 25.3, 0.0)),
              (("Orange", 1), (9.5, 100.0, 0.0)),
              (("LtOrange", 0), (11.1, 34.7, 0.0)),
              (("LtOrange", 1), (31.6, 100.0, 0.0)),
              (("WrmYellow", 0), (4.8, 25.3, 0.0)),
              (("WrmYellow", 1), (50.5, 100.0, 0.0)),
              (("Yellow", 0), (23.7, 26.8, 0.0)),
              (("Yellow", 1), (84.3, 100.0, 0.0)),
              (("Lime", 0), (25.3, 12.7, 0.0)),
              (("Lime", 1), (100.0, 30.0, 0.0)),
              (("Green", 0), (25.3, 0.0, 0.0)),
              (("Green", 1), (100.0, 0.0, 0.0)),
              (("Mint", 0), (25.3, 0.0, 7.1)),
              (("Mint", 1), (100.0, 0.09, 25.3)),
              (("Cyan", 0), (25.3, 0.0, 20.5)),
              (("Cyan", 1), (100.0, 0.0, 93.0)),
              (("Turqoise", 0), (11.1, 0.0, 26.8)),
              (("Turqoise", 1), (56.0, 0.0, 100.0)),
              (("Blue", 0), (1.6, 1.6, 25.3)),
              (("Blue", 1), (11.9, 11.9, 100.0)),
              (("Plum", 0), (0.0, 10.3, 25.3)),
              (("Plum", 1), (0.0, 39.5, 100.0)),
              (("Violet", 0), (0.0, 18.2, 25.3)),
              (("Violet", 1), (0.0, 74.9, 100.0)),
              (("Purple", 0), (0.0, 25.3, 15.8)),
              (("Purple", 1), (0.0, 100.0, 48.9)),
              (("Magenta", 0), (0.0, 26.8, 6.4)),
              (("Magenta", 1), (0.0, 100.0, 14.2)),
              (("Fuchsia", 0), (0.0, 25.3, 1.6)),
              (("Fuchsia", 1), (0.0, 100.0, 5.6))]


def getLEDColor(r, g, b):
    target = (g, r, b)
    d = [(x[0], color_dist(x[1], target)) for i, x in enumerate(__colorLUT)]
    d.sort(key=itemgetter(1))
    return d[0][0]
